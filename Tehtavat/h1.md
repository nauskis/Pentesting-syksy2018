# h1  

Tunkeutumistestaus - ict4tn027-3001  
http://terokarvinen.com/2018/penetration-testing-course-autumn-2018

1) Kokeile valitsemaasi OWASP 10 hyökkäystä omalle koneellesi. Tässä harjoituksessa saa käyttää vain omalle, paikalliselle koneelle asennettuja harjoitusmaaleja.

## WebGoat - String SQL Injection  

Asensin Xubuntu 18.04 virtuaalikoneen Virtualboxin avulla ja laitin Webgoatin pyörimään kyseiselle koneelle. Käytetään sitä siis oppimisympäristönä kotitehtävissä. Ohjeet asennuksiin löytyvät tästä reposta.

Ensimmäisessä SQL Injection tehtävässä päästiin kokeilemaan omia kynsiä.

![alt text](https://i.imgur.com/pipCO55.png)  

Eniten aikaa ensimmäisen tehtävän ratkaisussa kului siihen, että yritin syöttää koko SQL stringiä, esim:  
```select * FROM users WHERE LAST_NAME = Smith' OR '1' = '1```  

Toinen kompastuskivi oli apinoida vihjeitä liian tarkasti. Seuraavaan syntax -virheeseen päädytiin kun kopioin vihjeen syötteen suoraan vastauskenttään:
```[Smith' OR '1' = '1]```  

Tässä kohtaa aloin jo repiä pelihousuja ja tulikin aika tyhmä olo kun huomasin poistaa hakasulkeet. Oikea vastaus oli kokoajan lähellä, mutta selvästikin on vielä paljon ymmärrettävää siitä, miten tietokanta ajaa syötteen.  

Sisälle päästiin vastauksella  
```Smith' OR '1' = '1```  

ja seuraavaksi kokeilemalla eri vaihtoehtoja joissa sama periaate kuitenkin toistuu:  
```Saku' OR 'Saku' = 'Saku```  

Alkuperäinen kysely  
```"select * from users where name = '" + userName + "'";```  
siis ajetaan syötteen jälkeen muodossa  
```"select * from users where name = '" + Smith' OR '1' = 1' + "'";```

## WebGoat - Numerical SQL Injection  

![alt text](https://i.imgur.com/myrlyAL.png)  

Toinen tehtävä on hyvin samankaltainen kuin edellinen. Ensimmäinen ajatus oli kokeilla ratkaisuja kuten:  
```1' OR '1' = '1```  
tai  
```101' OR 'ok' = 'ok```  

Tämä ei tietenkään onnistunut ja pienen selvittelyn jälkeen kävi ilmi, että operaattoria ```OR``` käytetään edelleen, mutta hipsukat jätetään pois. Tällä päästään muotoon:  
```101 OR 1=1```

Kyseinen syöte menee läpi ja palauttaa halutun tuloksen.





