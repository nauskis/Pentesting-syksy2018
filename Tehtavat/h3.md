 # h3 #
 
Penetration Testing Course – ict4tn027-3001  
Haaga-Helia  
 http://terokarvinen.com/2018/penetration-testing-course-autumn-2018  
 
 1) Kokeile haavoittuvuusskanneria (vulnerability scanner). Käytä jotain muuta kuin tunnilla kokeiltua niktoa. Esim. openvas, w3af…
 
 2) Haavoittuvuusskannaa 5 konetta HackTheBoxin verkosta. Käytä kahta skanneria, esimerkiksi niktoa ja edellisessä kohdassa valitsemaasi skanneria. Analysoi tulokset. Mitkä palvelut vaikuttavat helpoimmilta kohteilta aloittaa hyökkäys? Jos haluat, voit tuoda tulokset metasploit:iin db_import -komennolla.
 
 3) Silmäile Mirai-haittaohjelman lähdekoodia. Etsi lista salasanoista, joita Mirai käyttää. (Tämän kohdan voi tehdä pelkästä lähdekoodista. Mitään ei tarvitse kääntää eikä ajaa. Binäärimuotoiset virukset ja madot voivat levitä, joten niiden käsittely vaatii erityisjärjestelyjä.)
 
 4) Yritä korkata joku kone HackTheBoxin verkosta. Maaliin asti ei tarvitse päästä, mutta raportoi mitä kokeilit ja mitä johtolankoja jäi vielä tutkittavaksi.Voit apupyörinä katsoa listasta, mitkä koneet on arvioitu helpoiksi.
 
 5) Vapaaehtoinen: Miten OWASP WebGoat:n Authentication Bypass -hyökkäys toimii? Voit lukea OWASP 10 mitä tämä hyökkäys tarkoittaa ja sitten ratkaista tehtävän WebGoatista. Lopuksi voit katsoa WebGoatin lähdekoodista “string fishing” -tekniikalla, miten koodi toimii.
 
 
# Tehtävä 1 #
Tähän asti olen kokeillut pelkästään Nmap haavoittuvuusskanneria. Ajattelin ensimmäisessä tehtävässä tutustua OpenVAS:iin.

Lataus osoitteesta: http://www.openvas.org/download.html

Valitsin Virtual Appliance -linkin, josta aukeaa seuraava sivu jossa on ISO:n latauslinkki ja ohjeet.  
![kuva1](https://i.imgur.com/Y2jIQBN.png)

Käytän Virtualboxia ohjelman asennukseen, koska se löytyykin jo kätevästi entuudestaan. Ohjeet asennukseen löytyvät tämän repon kansiosta [Asennuksia](https://github.com/nauskis/Pentesting-syksy2018/blob/master/Asennuksia/Virtualbox.md).  

Virtualboxissa ei mitään uutta, valitaan New, annetaan ohjeen suosittelemat parametrit ja käynnistetään kone. Käynnistettäessä valitaan aiemmin ladattu ISO -tiedosto ja jatketaan ohjeiden seuraamista. Asennuksessa kului noin 5 minuuttia. Tämän jälkeen tulee syöttää käyttäjätunnukset pääkäyttäjälle.

Ohjeissa taisi olla jokin pieni epäselvyys, koska luotuani openVAS virtuaalikoneen, en pystynyt kirjautumaan sisään juuri luomillani tunnuksilla. Asennan kaiken alusta ja koitan uudelleen.  
Tällä kertaa luotuani pääkäyttäjän tunnukset asennusohjelma pyysi minua heti reboottaamaan koneen, toisin kuin ensimmäisellä kerralla.

Kirjauduttuani sisään uudelle virtuaalikoneelle, saan uuden promptin, jossa kehotetaan käymään asennus loppuun ja luomaan web-admin tunnukset.  
![kuva2](https://i.imgur.com/5d7DBmc.png)

Tässä törmätäänkin seuraavaan ongelmaan. Selaimeni aikakatkaistaan kun yritän yhdistää openVAS:n verkkosivuun, ja koittaessani toista [ohjetta](https://www.kali.org/penetration-testing/openvas-vulnerability-scanning/) Kalin omilta sivuilta mikään ei toimi. Vika taitaa olla Kalin asennuksessa.  
![kuva3](https://i.imgur.com/YlyWkNr.jpg)

Aloin tutkia miksi apt-get komennoissa on ongelmia. Löysin seuraavanlaisen [ohjeen](https://unix.stackexchange.com/questions/373362/apt-get-not-working-on-my-kali-linux), jonka jälkeen pystyin asentamaan ohjelmia komentoriviltä. Kokeillaan uudelleen Kalin openVAS -ohjetta.  
```
apt-get update  
apt-get dist-upgrade     #Ei välttämättä tarpeellinen. Pyörii melko kauan.

sudo apt-get install -y openvas  
openvas-setup  
```
Kun openvas-setup lopettaa toimintansa, OpenVAS managerin, skannerin, and GSAD palveluiden tulisi olla aktiivisia. Voidaan tarkistaa komennolla `netstat -antp`.  
















