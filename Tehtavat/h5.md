1) Tee troijan hevosia, vähintään kaksi erilaista. Voit tehdä esimerkiksi saastuneen asennusohjelman, dokumentteja joissa on vihamielisiä makroja sekä älypuhelimen apsin. Nimeä ohjelmat siten, että haitallinen tarkoitus ilmenee MALWARE-installer.exe. Vihamielisenä hyötykuormana voi olla esimerkiksi meterpreter. Älä tee itsestään leviäviä ohjelmia. Voit käyttää troijan hevosen tekoon esim. setoolkit, msfvenom.

2) Mitä uusia keksintöjä Confickerissa esiteltiin? Lue jokin artikkeli Confickerista. ‘conficker analysis’ on hyvä hakusana. Kiinnitä huomiosi C2:n.

3) Blogeja. Etsi Krebsin tai Schneierin blogeista ideoita pentestiin. Näissä blogeissa on paljon turvallisuuteen liittyviä aiheita, tee erityisesti huomioita tunkeutumistestaukseen liittyen.

4) Safarionline. Opettele ja testaa jokin uusi Pentesting-tekniikka kirjasta tai videosta, jonka löydät Safarionlinesta.


# Tehtävä 1 #

1) Tee troijan hevosia, vähintään kaksi erilaista. Voit tehdä esimerkiksi saastuneen asennusohjelman, dokumentteja joissa on vihamielisiä makroja sekä älypuhelimen apsin. Nimeä ohjelmat siten, että haitallinen tarkoitus ilmenee MALWARE-installer.exe. Vihamielisenä hyötykuormana voi olla esimerkiksi meterpreter. Älä tee itsestään leviäviä ohjelmia. Voit käyttää troijan hevosen tekoon esim. setoolkit, msfvenom.

**Haittaohjelma 1**:
Käytetään Social Engineering Toolkit:iä.  
`setoolkit`
Valitsin ensimmäisenä Social-Engineering Attacks vaihtoehdon (1)
![set2](https://i.imgur.com/PBknuv3.png)

Ehdin jo viime viikolla kokeilla QRkoodin luomista, joten tehdään se uudelleen. Valitaan 8 ja painetaan Enter.
![set3](https://i.imgur.com/0g8N5zg.png)

Seraavaksi syötän URL:n johon haluan QRkoodin ohjaavan. Lyhyen googlailun jälkeen pientä mielipahaa aiheuttava osoite oli **crashsafari.com**, jonka tarkoitus on kaataa selain. Ei siis aiheuteta suurta vahinkoa kenellekään.
![set4](https://i.imgur.com/MZfIOZf.png)

Tässä siis valmis tuote. Ohjelma tallensi sen polkuun */root/.set/reports/*.
![set5](https://i.imgur.com/vG1zvX7.png)  

**Antiikin puuhevonen nro 2**  
SeToolKit oli niin vaivaton käyttää, että tehdään toinenkin "hyökkäys" sillä. Pääsivun vaihtoehdoista hyppää silmille *Infectious Media Generator*. Kuulostaa keinolta, jota olisi halutessa helppoa soveltaa monessa eri tilanteessa.  

Ohjelma kertoo luovansa tiedoston, joka pitää vain siirtää halutulle medialle. Seuraavaksi valitaan minkä tyypin hyökkäys halutaan toteuttaa.  
![set6](https://i.imgur.com/w6w6Bik.png)

Valitsin *Standard Metasploit Executable* ja seuraavassa kohdassa *Windows reverse_TCP meterpreter*. Tämän jälkeen syötän kuuntelijan IP-osoitteen ja halutessani portin. Jätin portin tyhjäksi, joten ohjelma valitsee oletusarvoisesti portin *4444*.
![Imgur](https://i.imgur.com/Mynj5ns.png)  

Tiedot annettuani ohjelma siirtyy Metasploittiin. Tässä vaiheessa en voi jatkaa kokeilua paljoa pidemmälle tai pääse näkemään miten hyökkäys toimisi luonnossa, sillä en omista ylimääräisiä laitteita mitä käyttää.
![Imgur](https://i.imgur.com/pOhRTUc.png)


# Tehtävä 2 #

2) Mitä uusia keksintöjä Confickerissa esiteltiin? Lue jokin artikkeli Confickerista. ‘conficker analysis’ on hyvä hakusana. Kiinnitä huomiosi C2:n.

En löytänyt tarkkaa tietoa siitä, että käyttikö Conficker.A uusia keksintöjä tai ominaisuuksia.  
Conficker.B oli monipuolisempi kuin *A*, ja lisäksi se uutena ominaisuutena pystyi leviämään asennusmedioiden kautta (esim. USB-tikut).
Lisäksi Conficker.B oli ensimmäinen mato, joka käytti `MD6 Hash Algoritmiä`. [Wikipedian](https://en.wikipedia.org/wiki/MD6) mukaan se oli myös ensimmäinen tunnettu tapaus, jossa kyseistä funktiota käytettiin tuotannossa. Salausta luultavasti käytettiin, jotta toiset kaapparit eivät saisi bottiverkkoa haltuunsa.  
Löysin Mikko Hyppösen [kirjoituksen](http://www.blackhat.com/presentations/bh-usa-09/HYPPONEN/BHUSA09-Hypponen-ConfickerMystery-PAPER.pdf) Confickeristä. Siinä mainitaan, että Conficker käytti ensimmäisenä *Windows ACL* -manipulaatiota suojautuakseen, mutta tätä tietoa ei näyttänyt löytyvän *SRI Internationalin* [analyysistä](http://www.csl.sri.com/users/vinod/papers/Conficker/).  


# Tehtävä 3 #

3) Blogeja. Etsi Krebsin tai Schneierin blogeista ideoita pentestiin. Näissä blogeissa on paljon turvallisuuteen liittyviä aiheita, tee erityisesti huomioita tunkeutumistestaukseen liittyen.

https://krebsonsecurity.com/2016/04/new-threat-can-auto-brick-apple-devices/

**Apache Struts**  

Apachen tietoturvapäivitystä seurasi, että haavoittuvuutta käytettiin hyväksi järjestelmiin, jotka eivät olleet vielä päivittäneet osiaan. Huomattiin, että haavoittuvuutta alettiin käyttää hyväksi jo vuorokauden sisällä, ja kolmessa vuorokaudessa haavoittuvuus löydettiin *Equifaxin* palvelusta. Kyseinen tietomurto sai paljon huomiota aiemmin tänä vuonna. Tapaus osoittaa kuinka nopea haavoittuvuuksien päivityksissä tulee olla, ja että kuinka haavoittuvuuksien julki tulosta voi hyötyä nopein toimin.

Kuulostaa juuri sellaiselta haavoittuvuudelta, jonka porttiskanneri ilmoittaa ja siihen löytyy valmis hyökkäys Metasploitista. Haavoittuvuus ilmenee asiakkaalle esillä olevalla sivulla selaimessa, joten on helppoa todeta onko haavoittuvuus paikallaan.  

https://krebsonsecurity.com/2018/08/experts-urge-rapid-patching-of-struts-bug/  


**Vihamieliseen verkkoon liittyminen**  

Kirjoitus antaa hyvää tietoa langattomien verkkojen toimintaperiaatteista hyökkääjän näkökulmasta. Ilmeisesti Applen tuotteet kuten puhelimet ja Ipadit, on suunniteltu liittymään automaattisesti verkkoihin, jotka ne tunnistavat. Tämä tarkoittaa, että ne voivat liittyä vihamieliseen avoimeen verkkoon, kunhan verkon nimi on laitteille entuudestaan tuttu.  
Kirjoituksen tarkoitus on kuvailla tilannetta, jossa omena liittyy vihamieliseen verkkoon itsestään, ja tarkistaa ajan automaattisesti verkon omalta serveriltä. Tässä kohtaa kuvaan astuu haavoittuvuus, jonka johdosta laite hajoittaa itsensä, jos aika ja päivämäärä on asetettu tiettyyn hetkeen (1/1/1970). En mene tämän pidemmälle teknisissä puolissa.  

Mielinkiintoista on mielestäni miten laitteet liittyvät itsestään verkkoihin, ja tämä avaa hyökkääjälle monia mahdollisuuksia, esimerkiksi verkon kuunteluun.

https://krebsonsecurity.com/2016/04/new-threat-can-auto-brick-apple-devices/  




























