# h7 #

a) Tee troijalainen Unicornilla ohjeen mukaan. (Vinkki: katso Tatun raporttia)

b) Asenna oma, itsellesi uusi harjoitusmaali. Voit hakea maalikoneen Vulnhubista. Murtaudu koneelle, katso walktroughsta vinkki, jos jäät jumiin.

c) Google Project Zero. Löydätkö tekniikoita, joita voi hyödyntää pentestissä? (Ei tarvitse toistaa haastavia assembler-temppuja)

## Tehtävä a) ##

## Tehtävä b) ##

**Teen tämän harjoituksen ubuntu 18.04 asennuksella**

Valitsin harjoitusmaalin **Basic Pentesting: 2**. En ole hetkeen harjoitellut murtautumista, ja kyseinen kone on kuvauksen mukaan hyvä niille ketkä ovat suorittaneet joitakin helppoja murtoja.  
![kuva3](https://i.imgur.com/rsgfAq0.png)

Asensin virtualboxin, latasin virtuaalikoneen kuvan, siirryin latauskansioon ja purin paketin. asensin koneen Virtualboxissa käyttäen vaihtoehtoa *import appliance*, sen sijaan että olisin luonut uuden koneen niin kuin yleensä.  
```
sudo apt-get install -y virtualbox  
tar -xzf basic_pentesting_2.tar.gz  
virtualbox  
```
![kuva4](https://i.imgur.com/u3lpy1d.png)

Virtuaalikone vaatii muutoksien tekemistä *networking* asetuksiin.

Ensimmäinen haaste kyseisen maalin kohdalla on ilmeisesti se, että sen IP-osoite on tuntematon. En myöskään ole eristettynä muusta verkosta, joten saan olla hyvin varovainen skannauksia tehdessä. Tutkittuani aihetta noin puoli tuntia, hyväksyin, että *virtualbox* ei suoraan luovuta minulle virtuaalikoneen IP-osoitetta, vaan joudun skannaamaan verkkoa. Tässä kohtaa *HackTheBox* ja heidän VPN kuulostavat aika ihanilta. Suoritin nopean skannauksen labraverkossa ja löysin virtuaalikoneen. Jos minulle myöhemmin selviää, että olen erehtynyt kohteesta, lopetan harjoituksen heti.

`sudo netdiscover` 
172.28.171.227  08:00:27:a1:01:12      3     180  PCS Systemtechnik GmbH.  

Tässä vaiheessa tarvitsen Nmapin apua. Skanneri löytyy Kali Linuxista valmiiksi, mutta käytän ubuntu 18.04, joten se täytyy asentaa itse.  
`sudo apt-get install -y nmap`

`sudo nmap -Pn -vv 172.28.171.227`  
Aikaa skannaukseen kului 0.09 sekuntia, joten voisin hyvin uskoa sen olevan oma virtuaalikoneeni.

![kuva7](https://i.imgur.com/PIo3jY7.png)

|Port|state|Service|Reason|
|----|-----|-------|------|
|22/tcp|open|ssh|syn-ack|
|80/tcp|open|http|syn-ack|
|139/tcp|open|netbios-ssn|syn-ack|
|445/tcp|open|microsoft-ds|syn-ack|
|8009/tcp|open|ajp13|syn-ack|
|8080/tcp|open|http-proxy|syn-ack|

Näistä viimeinen näyttää kaikista parhaimmalta vaihtoehdolta. Käydään selaimella osoitteessa  
`http://172.28.171.227:8080`

Olen joskus ennenkin tainnut törmätä tähän näkymään HTB:n yhteydessä.  
![kuva8](https://i.imgur.com/thaHlQp.png)












## Tehtävä c) ##
