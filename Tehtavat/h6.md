Nämä tehtävät ovat osa Haaga-Helian *Penetration Testing* kurssia.  
Kurssin opettajana toimii Tero Karvinen.  
Lisätietoa kurssista ja kotitehtävistä löytyy opettajan [sivuilta](http://terokarvinen.com/2018/penetration-testing-course-autumn-2018)

# h6 #  

1) Hae Google Scholarlista tuore (alle 1-2 v) artikkeli, joka liittyy kurssin aiheeseen. Sopivia ovat vertaisarvioidut (peer-reviewed) artikkelit (journal articles) tai  konfferenssipaperit (conference papers, ovat hieman alempaa tasoa kuin journal artikkelit). Muista säätää asetukset: English. Library links: Haaga-Helia. No citations, no patents. Since 2017. Kokotekstit (full text PDF) ovat oikeassa reunassa. Minkä käytännön pentestiin sovellettavan asian opit artikkelista?

2) Tee Google Scholar -haku kiinnostavasta aiheesta, jota haluat seurata. Mitä 5 tuoreinta tai viitatuinta artikkelia kertovat? Voit silmäillä artikkelit, ei tarvitse tiivistää niitä kattavasti. Tilaa haku omaan sähköpostiisi (alerts). Näin pysyt kärryillä oman alasi uudesta tieteellisestä tutkimuksesta – ehkä alue on hallussa jo opinnäytettä aloittaessa.

3) Paketoi troijan hevonen itse. Voit tehdä asennuksen esimerkiksi inno setup -ohjelmalla. Voit kokeilla myös pakata samaan asennukseen vihamielisen ohjelman sekä normaalin ohjelman – näin et joudu muokkaamaan normaalin ohjelman binääriä. Nimeä ohjelmat siten, että haitallinen tarkoitus ilmenee MALWARE-installer.exe. Älä tee itsestään leviäviä ohjelmia.

4) OSINT. Mistä ja millä tekniikoilla voit hakea ihmisistä tietoa avoimista lähteistä? Voit myös kokeilla sovelluksia, esim. maltego (suljettu) tai recon-ng (vapaa); sekä weppisivuja (esim. inteltechniques.com) ja oppaita (esim email). Voit hyödyntää myös offline-lähteitä. (Tämä kohta käsittelee tekniikoita, työkaluja ja weppisivuja – älä laita tähän parisi tietoja)

5) Hae paristasi tietoa avoimista lähteistä. Pyri laatimaan kattava profiili henkilöstä: historia, kiinnostuksen kohteen, poliittiset mielipiteet, lähipiiri, taloudellinen tilanne, asuinpaikka… Älä julkaise tuloksia edes anonymisoituna, ei edes salasanan takana, äläkä kerro niistä ulkopuolisille hauskoja anekdootteja. Anna tulokset parillesi (sille, josta tiedot kertovat). Kysy pariltasi etukäteen, mistä tiedoista voimme keskustella tunnilla ja millä tarkkuudella. Käytä vain laillisia tekniikoita ja julkisia lähteitä. Tässä tehtävässä ei saa murtautua mihinkään, eikä esiintyä toisena henkilönä. Ole asiakkaan (parisi) luottamuksen arvoinen – myös pentest-asiakkaasi edellyttävät luottamuksellisuutta.


# Tehtävä 1 #

Asetuksiin päästään vasemmasta yläkulmasta hammasrattaan kuvasta. Kirjastolinkit -välilehdeltä voidaan lisätä kirjastoja, jolloin haluttujen aineistojen saatavuus paranee.  
Lisäsin Haaga-Helian, Harwardin (googlen ehdotuksesta) ja Helsingin yliopiston listalle. Näistä en saanut Helsingin yliopiston linkkejä aukeamaan kunnolla.
![kuva1](https://i.imgur.com/VyDGOuh.png)

Seuraavaksi hain hakusanalla *Kali Linux* ja sain muutaman mielenkiintoisen osuman, jotka sain vielä luettavaan muotoon.
![kuva2](https://i.imgur.com/kmYqWH5.png)

Ensimmäinen tuore artikkeli minkä löysin. Käsittelee langattomien laitteiden turvallisuutta ja niihin murtautumista. Nopean selailun jälkeen mieleen jäi "väärennettyjen" avoiminen Access Pointtien luominen, joihin ihmiset liittyvät ja suojaamatonta liikennettä voidaan kuunnella.
![kuva3](https://i.imgur.com/r2dzP87.png)  
http://annals.fih.upt.ro/pdf-full/2018/ANNALS-2018-3-26.pdf

Toinen artikkeli mitä selailin. Löytyi Harwardin avulla! 
![kuva4](https://i.imgur.com/m8FcrGi.png)  
https://cyberdefensereview.army.mil/Portals/6/Documents/CDR_V3N2_SUMMER-2018_Complete.pdf?ver=2018-09-06-091044-407


# Tehtävä 2 #

Scholaria käyttäessä huomaan saavani tuloksia, jotka ovat joka vanhempia kuin mitä haluaisin, tai uusia, mutta haluttuun aiheeseen vain löyhästi yhteydessä. Tämä johtuu varmasti siitä, etten ole vielä keksinyt tarpeeksi spesifiä aihetta, josta etsiä tietoa.


# Tehtävä 3 #

Latasin windows 10 ISO -tiedoston ja asennan sen virtualboxille Kali Linuxilla. Jos törmäät hankaluuksiin Virtualboxia käyttäessä Kalilla, konsultoi [asennusohjettani](https://github.com/nauskis/Pentesting-syksy2018/blob/master/Asennuksia/Virtualbox-for-kali.md).

Teen ohjelman SET:n avulla. Käynnistetään se terminaalista komennolla  
`setoolkit`  

1) Social-Engineering Attacks --> 4) Create a Payload and Listener --> 4) Windows Reverse_TCP Meterpreter

![kuva6](https://i.imgur.com/oSL3eFj.png)

Tässä kohtaa olin luonut payloadin, joka oli tallentunut */root/.set/* -kansioon. Tarkoituksenani oli ensin kääriä paketti ja lähettää se kokeilla sitä Windows 10 virtuaalikoneellani. Tässä kohtaa en oikein tiennyt enää että miten sen paketoisin, joten lähdin seuraamaan [ohjetta](https://null-byte.wonderhowto.com/how-to/hide-virus-inside-fake-picture-0168183/), jossa *payload* piilotetaan kuvaan webserverille. Ajatus ei kulkenut ja en onnistunut seuraamaan ohjetta kunnolla.

Törmäsin seuraavaksi tähän [videoon](https://www.youtube.com/watch?v=nxluS43466Q), jossa ohjeistetaan saman asian tekemiseen. Olen siis Tässä vaiheessa luonut payloadin, käyttänyt halutun kuvan ICO converterin läpi, ja käynnistänyt Reverse TCP handlerin kuuntelun. Seuraavaksi tarvitsisin esimerkiksi WinRarin tehdäkseni seuraavan vaiheen.  
![Listener](https://i.imgur.com/OX3qm2U.png)
![ICO](https://i.imgur.com/L4cQiMj.png)

Tehtyäni pienet muutokset virtualboxin asetuksiin, minun pitäisi pystyä kopioimaan tiedostoja koneiden välillä, mutta se ei tietenkään näytä toimivan.  
Asensin winrarin valmiiksi, mutta jostain syystä en saa normaalein keinoin filuja toiselle koneelle, koska ssh-serverinikin suuttui jostain.  
Tässä vaiheessa minun pitäisi enää saada paketoitua tiedostot, jolloin valmis lopputulos näyttäisi kuvalta, jonka avatessa myös payload käynnistetään ja meterpreter yhteys saataisiin toimimaan. Tämä tietenkin edellyttää, että Windows 10 ei torju kaikkea kättelyssä!  

Sain viimein tiedostot windows -koneelle, mutta virusturva poisti viruksen sisältävän tiedoston heti. Unohdin vielä ottaa kuvan tapahtuneesta. Tämä harjoitus saa minun osaltani jäädä tähän. Pääsin siihen pisteeseen, että tiedän miten haittaohjelma naamioitaisiin loppuun ja miten se käytännössä toimii, mutta en päässyt kokeilussani loppuun asti, eikä keskittymiseni enää riitä uuteen yritykseen.


# Tehtävä 4 #

OSINT (Open Source Intelligence) tarkoittaa tiedustelua käyttäen avoimiaa lähteitä, jotka ovat kaikkien saatavilla. Tärkeimmässä roolissa eri hakukoneet ja niistä saatavan tiedon yhdistäminen.

Hakukoneita:        Google, Yahoo, Yandex, Bing, DuckDuckGo  
Kuvahakukoneita:    Google, TinEye  
Pohjapiirrustuksia: arska.vantaa.fi, arska.espoo.fi, arska.jkl.fi, asiointi.hel  
Avatar -haku:       Knowem?  

Eri hakuparametrien asettaminen (google):  
filetype:  
inurl:  
intitle:  
intext:  

Esim 1. inurl:haaga-helia + inurl:login  
Esim 2. inurl:viewer_index


Helpointa on hakea tietoa ihmisistä joilla on epätavallinen nimi. Vastaantulevat aliakset ja käyttäjätunnukset kannattaa ottaa ylös, koska niiden avulla voidaan löytää lisätietoa myöhemmin. 


# Tehtävä 5 #

Raportoidaan henkilölle itselleen.













